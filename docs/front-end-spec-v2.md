# UI/UX 規格文件: PCM (專業營建管理)

## 1. 整體 UX 目標與原則

### 目標使用者輪廓 (Target User Personas)
* **專案經理 (Project Manager)**: 需要快速掌握專案全貌，高效彙整數據以供決策與匯報。
* **品管人員 (Quality Control Personnel)**: 需要跨專案追蹤品質問題，確保標準一致。
* **工地主任 (Site Supervisor)**: 需要在現場環境下，快速、便捷地回報每日進度。

### 可用性目標 (Usability Goals)
* **效率 (Efficiency)**: 核心任務需在極短時間內完成。
* **清晰度 (Clarity)**: 儀表板與報表的資訊必須直觀、易於理解。
* **易學性 (Learnability)**: 介面應符合專業人員的工作直覺，無需冗長的學習過程即可上手。
* **可靠性 (Reliability)**: 系統反應需穩定可靠，讓使用者在任何環境下都能信賴呈現的數據。

### 設計原則 (Design Principles)
1.  **效率至上，減少點擊**: 每個操作流程都將被精簡，以幫助忙碌的專業人士節省寶貴的時間。
2.  **資訊清晰，一眼看懂**: 數據優先，複雜的資訊將以最易於理解的視覺化方式呈現。
3.  **角色導向，專注其職**: 每種角色的使用者只會看到與其職務最相關的資訊，避免不必要的干擾。
4.  **體驗一致，跨平台無縫**: 無論是在辦公室的電腦，還是在工地的平板或手機，都應提供一致、流暢的操作體驗。

## 2. 資訊架構 (Information Architecture)

### 網站地圖 / 畫面清單 (Site Map / Screen Inventory)
本系統在使用者登入並選擇專案後，將包含以下主要功能模組：專案儀表板、專案範疇、人員管理、時程管理、成本管理、品質管理、溝通管理、工安環保 (ESH)、即時影像 (iVision)，以及使用者設定/登出。每個主要模組下再包含各自的子功能頁面。

### 導航結構 (Navigation Structure)
* **主要導航 (Primary Navigation)**: 使用者進入專案後，頁面頂部會出現固定的主導航列。
* **次要導航 (Secondary Navigation)**: 點擊主導航項目後，在側邊欄或下方展開子功能連結。
* **麵包屑 (Breadcrumbs)**: 頁面主要內容區域上方會顯示麵包屑導航，幫助使用者定位。

```mermaid
graph TD
    A[登入頁] --> B[專案選擇頁]
    B --> C{專案儀表板}
    C --> D[專案範疇]
    D --> D1[WBS 項目設定] & D2[晴雨表管理] & D3[專案成員查詢]
    C --> E[人員管理]
    E --> E1[廠商人員通訊錄] & E2[廠商人員值班查詢] & E3[出工人數統計]
    C --> F[時程管理]
    F --> F1[專案里程碑] & F2[法規許可管控] & F3[建廠歷史工期比對]
    C --> G[成本管理]
    G --> G1[發包狀況] & G2[成本管控] & G3[發包文件管理] & G4[DCR 管理]
    C --> H[品質管理]
    H --> H1[品質日報/週報] & H2[品質稽核單] & H3[品質 KPI] & H4[WBS 彙總表] & H5[品質稽核單彙總表]
    C --> I[溝通管理]
    I --> I1[iPhoto 2.0] & I2[最新消息] & I3[廠商日報/週報] & I4[專案人員日報/週報] & I5[文件規章]
    C --> J[工安環保 (ESH)]
    C --> K[即時影像 (iVision)]
    C --> L[使用者設定/登出]
```	
## 3. 使用者流程 (User Flows)

### 流程一：專案經理查詢廠商日報
* **使用者**: **專案經理** 或內部專案人員
* **使用者目標**: 快速查詢、檢視特定廠商在特定日期的日報內容與附件，以掌握實際施工進度。
* **流程描述**: 專案經理登入後，從儀表板進入「廠商日報查詢」頁面。頁面提供日期與廠商篩選器，篩選後，下方會顯示符合條件的報告列表。點擊任一報告可查看其詳細文字內容與附件列表，並可點擊附件進行預覽或下載。
* **邊界情況**: 某日無報告、附件損毀、資料同步延遲。
流程圖:

程式碼片段

graph TD
    A(專案經理登入) --> B(進入主儀表板);
    B --> C(點擊「廠商日報查詢」);
    C --> D(進入查詢頁面);
    D -- 預設顯示當日報告 --> E[報告列表];
    D -- 或 --> F(透過日期/廠商進行篩選);
    F --> E;
    E --> G(點擊某一份特定報告);
    G --> H(開啟報告詳細內容);
    H --> I[顯示報告文字說明];
    H --> J[顯示附件檔案列表];
    J --> K(點擊附件);
    K --> L(預覽或下載檔案);
邊界情況: 某日無報告、附件損毀、資料同步延遲。

## 4. 線框稿與模型 (Wireframes & Mockups)

### 主要設計檔案 (Primary Design Files)
根據使用者確認，我們將不採用外部的視覺設計工具 (如 Figma)。所有的畫面佈局與結構，將直接在此份規格文件中，以**文字描述**的形式進行定義。

### 核心畫面佈局：專案選擇頁
* **畫面用途**: 讓使用者登入後，可以清楚看到自己最近處理的專案，並從所有可存取的專案中進行選擇。
* **關鍵佈局元素**: 頂部導航列、最近存取的專案區塊、搜尋與篩選列、所有專案列表(卡片網格)、快捷操作區塊。
* **設計稿參考**: 使用者提供的初步設計圖 (`image_56d6b8.jpg`)。

## 5. 元件庫 / 設計系統 (Component Library)

### 設計系統方法 (Design System Approach)
* **基礎**: **shadcn/ui**。
* **客製化**: 根據風格指南對 `shadcn/ui` 的主題進行調整。

### 核心元件 (Core Components)
* Card (卡片), Button (按鈕), Input (輸入框), Progress (進度條), Table (表格), Calendar (日曆), Dialog (對話框).

## 6. 品牌與風格指南 (Branding & Style Guide)

### 色彩搭配 (Color Palette)
| 顏色類型 | Hex 色碼 (估計) | 用途 |
| :--- | :--- | :--- |
| Primary (主色) | `#16a34a` | 進度條、主要按鈕、進行中狀態 |
| Error (錯誤) | `#ef4444` | 錯誤訊息、已逾期狀態 |
| ... | ... | ... |

### 字體排印 (Typography)
* **字體家族**: 採用 `shadcn/ui` 預設的無襯線字體。

### 圖示 (Iconography)
* **圖示庫**: 採用 `shadcn/ui` 預設整合的 **Lucide React** 圖示庫。

## 7. 無障礙設計需求 (Accessibility Requirements)

* **合規目標**: 遵循 **WCAG 2.1 AA** 級別標準。
* **關鍵需求**: 確保足夠的色彩對比度、完整的鍵盤導覽功能、螢幕閱讀器支援。

## 8. 響應式設計策略 (Responsiveness Strategy)

* **中斷點**: Mobile (<768px), Tablet (768px+), Desktop (1024px+).
* **適應性模式**: 手機上採單欄佈局，導覽列收合為漢堡選單；桌面則為多欄式佈局。

## 9. 動畫與微互動 (Animation & Micro-interactions)

* **動效原則**: 具備目的性、快速流暢、低調不干擾。
* **關鍵動效**: 用於狀態轉換、元素出現、使用者回饋、載入指示。

## 10. 效能考量 (Performance Considerations)

* **效能目標**: 核心頁面 3 秒內可互動，操作回應 100 毫秒內。
* **設計策略**: 圖片優化、延遲載入、骨架屏載入。

## 11. 下一步 (Next Steps)

* **架構師交接**: 本文件已準備就緒，可交付給架構師 (Winston) 進行前端技術架構設計。
* **設計交接檢查清單**:
    * [x] 關鍵使用者流程已定義
    * [x] 核心元件庫與設計系統已確認
    * [x] 無障礙設計需求已闡明
    * [x] 響應式設計策略已清晰
    * [x] 品牌與風格指南已整合
    * [x] 效能目標已建立