# Story 1-1: 專案基礎設施建置

## Story Details
- **Story ID**: 1-1  
- **Branch**: feature/story-1-1
- **Dependencies**: None (Foundation)
- **Parallel-safe**: ✅ True
- **Module**: Root project structure, Docker, Monorepo setup

## Status
Draft

## Story
**As a** 開發者,
**I want** 設定一個新的 Next.js Monorepo 專案並配置好 Docker 基礎設施,
**so that** 整個團隊能擁有一個一致的本地開發環境與部署基礎

## Acceptance Criteria
1. Monorepo 專案結構被建立
2. Next.js 應用程式被初始化  
3. `docker-compose.yml` 建立並可成功啟動 Next.js 與 Oracle 服務
4. 基礎程式碼風格工具已配置
5. Git worktree 友善的專案結構已建立

## Tasks / Subtasks
- [ ] 設定 Monorepo 專案結構 (AC: 1, 5)
  - [ ] 建立根目錄 package.json 並配置 npm workspaces
  - [ ] 建立 apps/web/ 目錄結構
  - [ ] 建立 packages/shared/ 目錄結構  
  - [ ] 建立 infrastructure/ 目錄
  - [ ] 設定 Git worktree 友善的 .gitignore
- [ ] 初始化 Next.js 應用程式 (AC: 2)
  - [ ] 在 apps/web/ 中執行 create-next-app 建立 Next.js 14.x 專案
  - [ ] 配置 TypeScript 5.x
  - [ ] 整合 shadcn/ui 元件庫
  - [ ] 設定 Tailwind CSS
- [ ] 建立 Docker 容器化環境 (AC: 3)
  - [ ] 建立 Dockerfile 使用 node:18-alpine 基底
  - [ ] 建立 docker-compose.yml 包含 Next.js 與 Oracle 服務
  - [ ] 配置環境變數範本 .env.example
  - [ ] 驗證 Docker 環境可成功啟動
- [ ] 配置開發工具 (AC: 4)
  - [ ] 設定 ESLint 程式碼檢查
  - [ ] 設定 Prettier 程式碼格式化
  - [ ] 配置 Jest 測試框架基礎
  - [ ] 設定 TypeScript 型別檢查

## Dev Notes

### Previous Story Insights
這是第一個基礎故事，沒有前一個故事的依賴。

### 技術堆疊要求
[Source: architecture/architecture-overview.md#技術堆疊]
- **前端框架**: Next.js 14.x
- **UI 元件庫**: shadcn/ui (Latest) 
- **語言**: TypeScript 5.x
- **部署**: Docker / Docker Compose (Latest)

### 專案結構規範
[Source: architecture/architecture-project-structure.md#統一專案結構]
```
/pcm-project/
├── apps/
│   └── web/                    # 核心 Next.js 應用程式
├── packages/                   # 共享套件
│   └── shared/                 # 共享的 TypeScript 型別
├── infrastructure/             # 基礎設施設定
├── scripts/                    # 工具腳本
├── docs/                       # 文件
├── .env.example
├── package.json                # Root package.json for monorepo
└── README.md
```

### Docker 配置規範
[Source: architecture/architecture-project-structure.md#Docker配置]
- 使用 node:18-alpine 作為基底映像
- 實作多階段建置 (multi-stage build)
- 包含 deps, builder, runner 階段

### 環境變數要求
[Source: architecture/architecture-project-structure.md#環境變數]
```env
DATABASE_URL=oracle://username:password@localhost:1521/xe
DATABASE_SCHEMA=PCM
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key
```

### Parallel Development Considerations
- 此故事影響根配置檔案，其他並行故事避免修改根目錄
- 建立的專案結構為後續並行開發提供隔離的模組空間
- Git worktree 設定確保分支間的最小衝突

### Testing
[Source: architecture/architecture-standards.md#測試策略]
- **測試檔案位置**: apps/web/__tests__/ (基礎設定測試)
- **測試框架**: Jest 基礎配置
- **此故事的特定測試要求**: 設定基礎測試配置，驗證 Docker 環境啟動

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-09 | 1.0 | 初始故事建立 - 並行開發第一組 | Bob (Scrum Master) |

## Dev Agent Record
_This section will be populated by the development agent during implementation_

## QA Results
_Results from QA Agent review will be populated here after implementation_